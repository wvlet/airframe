<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>airframe-log: Application Logger · Airframe</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="*airframe-log* is a library for enhancing your Scala application logging with colors and source code locations."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="airframe-log: Application Logger · Airframe"/><meta property="og:type" content="website"/><meta property="og:url" content="https://wvlet.org/airframe/"/><meta property="og:description" content="*airframe-log* is a library for enhancing your Scala application logging with colors and source code locations."/><meta property="og:image" content="https://wvlet.org/airframe/img/poster.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://wvlet.org/airframe/img/poster.png"/><link rel="shortcut icon" href="/airframe/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://wvlet.org/airframe/blog/atom.xml" title="Airframe Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://wvlet.org/airframe/blog/feed.xml" title="Airframe Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-98364158-1', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/airframe/js/scrollSpy.js"></script><link rel="stylesheet" href="/airframe/css/main.css"/><script src="/airframe/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/airframe/"><img class="logo" src="/airframe/img/favicon.ico" alt="Airframe"/><h2 class="headerTitleWithLogo">Airframe</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/airframe/docs/" target="_self">Docs</a></li><li class=""><a href="/airframe/blog/" target="_self">Blog</a></li><li class=""><a href="/airframe/docs/release-notes" target="_self">Release Notes</a></li><li class=""><a href="https://github.com/wvlet/airframe/" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Core Modules</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Resources</h3><ul class=""><li class="navListItem"><a class="navItem" href="/airframe/docs/">Overview</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-walkthrough">Airframe Walkthrough: Building Applications Step by Step</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/articles">Articles</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/release-notes">Release Notes</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/logos">Logos</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Framework</h3><ul class=""><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-di">airframe-di: Dependency Injection</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-rpc">Airframe RPC</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-http">airframe-http: Creating REST Service</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-rx">airframe-rx: ReactiveX interface</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airspec">AirSpec: Testing Framework</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Core Modules</h3><ul class=""><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-codec">airframe-codec: Schema-On-Read Object Serializer</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-config">airframe-config: Application Config Flow</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-control">airframe-control: Retry/Rate Control</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/airframe/docs/airframe-log">airframe-log: Application Logger</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-metrics">airframe-metrics: Human-Friendly Measures for Time and Data Size</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-surface">airframe-surface: Object Shape Inspector</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Utilities</h3><ul class=""><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-benchmark">airframe-benchmark: JMH Benchmark</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-canvas">airframe-canvas: Off-Heap Memory Manager</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-fluentd">airframe-fluentd: Fluentd Logger</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-http-recorder">airframe-http-recorder: Web Request/Response Recorder</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-jdbc">airframe-jdbc: JDBC Connection Pool</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-jmx">airframe-jmx: JMX Application Monitor</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-json">airframe-json: Pure-Scala JSON Parser</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-launcher">airframe-launcher: Command-Line Program Launcher</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-msgpack">airframe-msgpack: Pure-Scala MessagePack Parser</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-parquet">airframe-parquet: Parquet Columnar File Reader and Writer</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-sql">airframe-sql: SQL Parser</a></li><li class="navListItem"><a class="navItem" href="/airframe/docs/airframe-ulid">airframe-ulid: ULID Generator</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">airframe-log: Application Logger</h1></header><article><div><span><p><em>airframe-log</em> is a library for enhancing your Scala application logging with colors and source code locations.</p>
<p><img src="../img/airframe-log/demo.png" alt="image"></p>
<p>airframe-log also supports <a href="https://www.scala-js.org/">Scala.js</a> to see the logs in the debug window of web browsers:</p>
<p><img src="https://wvlet.org/airframe/img/airframe-log/scalajs-formatters.png" alt="image"></p>
<ul>
<li>GitHub: <a href="https://github.com/wvlet/airframe/tree/main/airframe-log">airframe-log</a></li>
<li>Blog post: <a href="https://medium.com/@taroleo/airframe-log-a-modern-logging-library-for-scala-56fbc2f950bc">Airframe Log: A Modern Logging Library for Scala</a></li>
</ul>
<p><a href="https://search.maven.org/search?q=g:%22org.wvlet.airframe%22%20AND%20a:%22airframe_2.12%22"><img src="https://img.shields.io/maven-central/v/org.wvlet.airframe/airframe_2.12.svg" alt="maven central"></a></p>
<pre><code class="hljs css language-scala">libraryDependencies += <span class="hljs-string">"org.wvlet.airframe"</span> %% <span class="hljs-string">"airframe-log"</span> % <span class="hljs-string">"(version)"</span>

<span class="hljs-comment">// For Scala.js (Since airframe-log 1.2)</span>
libraryDependencies += <span class="hljs-string">"org.wvlet.airframe"</span> %%% <span class="hljs-string">"airframe-log"</span> % <span class="hljs-string">"(version)"</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="features"></a><a href="#features" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Features</h2>
<ul>
<li><strong>Simple to use</strong>
<ul>
<li>You can start logging by adding <code>wvlet.log.LogSupport</code> trait to your code. No need to write <code>Logger.getLogger(xxx)</code> anymore.</li>
</ul></li>
<li><strong>Fast and light-weight</strong>
<ul>
<li>airframe-log uses Scala macros for efficiency; log messages will be instantiated only when the log level is effective.</li>
<li>airframe-log is just an extension of JVM's built-in <code>java.util.logging</code>. So no need exists to add custom binding jars, such as logback-classic as in slf4j.</li>
</ul></li>
<li><strong>Informative</strong>
<ul>
<li>ANSI colored logging support.</li>
<li>You can also show the <strong>source code locations</strong> (line number and pos) of log messages.</li>
</ul></li>
<li><strong>Fully customizable</strong>
<ul>
<li>log levels can be changed at ease with the periodic log-level scanner.</li>
<li>You can also change the log level through the standard JMX interface for <code>java.util.logging</code>.</li>
<li>Easy to customize your own log format and log levels <em>inside</em> the code. No external XML configuration is required.</li>
</ul></li>
<li><strong>Production ready</strong>
<ul>
<li>airframe-log has built-in handlers for log file rotations, asynchronous logging.</li>
<li>Scala 2.12, 2.13, 3.x, Scala.js, Scala Native support</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="using-logsupport-trait"></a><a href="#using-logsupport-trait" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using LogSupport trait</h3>
<p>The most convenient way to use airframe-log is adding <code>LogSupport</code> to your class:</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> wvlet.log.<span class="hljs-type">LogSupport</span>

<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">LogSupport</span>  </span>{
   info(<span class="hljs-string">"info log"</span>)
   debug(<span class="hljs-string">"debug log"</span>)
}
</code></pre>
<p>The logger name will be determined from your class name (e.g., <code>MyApp</code>).</p>
<p>Alternatively you can load <code>Logger</code> instance manually:</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> wvlet.log.<span class="hljs-type">Logger</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">YourApp</span> </span>{
   <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> logger = <span class="hljs-type">Logger</span>.of[<span class="hljs-type">YourApp</span>]
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="using-the-default-configuration"></a><a href="#using-the-default-configuration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using the default configuration</h3>
<p>If your project involves dependencies that set their own java.util.logging configurations,
you can force using the default configuration of airframe-log by calling <code>Logger.init</code>:</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> wvlet.log.<span class="hljs-type">Logger</span>

<span class="hljs-comment">// Initialize with INFO level and SourceCodeLogFormatter</span>
<span class="hljs-type">Logger</span>.init

<span class="hljs-comment">// For terminals not supporting ANSI colors</span>
wvlet.airframe.log.initNoColor
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="configuring-log-levels"></a><a href="#configuring-log-levels" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuring log levels</h3>
<p>To configure log levels, use <code>Logger.setDefaultLogLevel(...)</code> or <code>Logger.setLogLevel(...)</code>:</p>
<pre><code class="hljs css language-scala"><span class="hljs-comment">// Set the root logger's log level</span>
<span class="hljs-type">Logger</span>.setDefaultLogLevel(<span class="hljs-type">LogLevel</span>.<span class="hljs-type">DEBUG</span>)

<span class="hljs-comment">// Configure log level for each package or logger</span>
<span class="hljs-type">Logger</span>(<span class="hljs-string">"(your logger package or name)"</span>).setLogLevel(<span class="hljs-type">LogLevel</span>.<span class="hljs-type">DEBUG</span>)
</code></pre>
<p>(Note: The scheduled log level scan is not available in Scala.js)</p>
<p>If <code>Logger.scheduleLogLevelScan</code> is called, airframe-log periodically scans log-level properties file (default every 1 minute) to configure logger levels:</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> wvlet.log.<span class="hljs-type">Logger</span>

## <span class="hljs-type">Scan</span> log files (not available <span class="hljs-keyword">for</span> <span class="hljs-type">Scala</span>.js)
<span class="hljs-type">Logger</span>.scheduleLogLevelScan
</code></pre>
<p><strong><em>log.properties</em></strong> example:</p>
<pre><code class="hljs"># You can use <span class="hljs-keyword">all</span>, trace, <span class="hljs-keyword">debug</span>, <span class="hljs-keyword">info</span>, warn, error, <span class="hljs-keyword">info</span>, <span class="hljs-keyword">all</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">log</span> <span class="hljs-keyword">level</span>
wvlet.airframe=<span class="hljs-keyword">debug</span>
org.eclipse.jetty=<span class="hljs-keyword">info</span>
org.apache.http=<span class="hljs-keyword">info</span>
com.amazonaws=<span class="hljs-keyword">info</span>
</code></pre>
<p>The format follows <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#load(java.io.Reader)">Java Properties file format</a>.</p>
<p>To specify a root log level, use <code>_root_</code> keyword:</p>
<pre><code class="hljs css language-scala">_root_=debug
</code></pre>
<p>In default, loglevel file will be found in this order:</p>
<ol>
<li><code>log-test.properties</code> in the classpath.</li>
<li>If 1. is not found, use <code>log.properties</code> in the classpath.</li>
</ol>
<p>To change the log file path, you can use <code>Logger.scheduleLogLevelScan(file paths, duration)</code>.</p>
<p>In debugging your application, create <code>src/test/resources/log-test.properties</code> file, and
call <code>Logger.scheduleLogLevelScan</code> before running test cases. This is useful for quickly checking the log messages.</p>
<h3><a class="anchor" aria-hidden="true" id="using-loglevelscanner-with-scalatest"></a><a href="#using-loglevelscanner-with-scalatest" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using LoglevelScanner with ScalaTest</h3>
<p>To scan log level properties periodically with <a href="http://www.scalatest.org/">ScalaTest</a>, define the base trait as follows:</p>
<p><strong><a href="https://github.com/wvlet/log/blob/main/src/test/scala/wvlet/log/Spec.scala">Spec.scala</a></strong></p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> org.scalatest.{<span class="hljs-type">BeforeAndAfter</span>, <span class="hljs-type">BeforeAndAfterAll</span>, <span class="hljs-type">WordSpec</span>, _}
<span class="hljs-keyword">import</span> wvlet.log.<span class="hljs-type">LogFormatter</span>.<span class="hljs-type">SourceCodeLogFormatter</span>

<span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Spec</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">WordSpec</span> <span class="hljs-keyword">with</span> <span class="hljs-title">Matchers</span> <span class="hljs-keyword">with</span> <span class="hljs-title">BeforeAndAfterAll</span> <span class="hljs-keyword">with</span> <span class="hljs-title">LogSupport</span> </span>{
  <span class="hljs-comment">// Set the default log formatter</span>
  <span class="hljs-type">Logger</span>.setDefaultFormatter(<span class="hljs-type">SourceCodeLogFormatter</span>)

  <span class="hljs-keyword">override</span> <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">beforeAll</span></span>(): <span class="hljs-type">Unit</span> = {
    <span class="hljs-comment">// Run LogLevel scanner (log-test.properties or log.properties in classpath) every 1 minute</span>
    <span class="hljs-type">Logger</span>.scheduleLogLevelScan
    <span class="hljs-keyword">super</span>.beforeAll()
  }

  <span class="hljs-keyword">override</span> <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">afterAll</span></span>(): <span class="hljs-type">Unit</span> = {
    <span class="hljs-type">Logger</span>.stopScheduledLogLevelScan
    <span class="hljs-keyword">super</span>.afterAll()
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">YourSpec</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Spec</span> </span>{
   <span class="hljs-string">"my application"</span> should {
      <span class="hljs-string">"run correctly"</span> in {
         <span class="hljs-comment">// show a log message</span>
         debug(<span class="hljs-string">"this is debug log"</span>)
      }
   }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="customizing-log-format"></a><a href="#customizing-log-format" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Customizing log format</h3>
<p>You can show the source code location where the log message is generated:</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> wvlet.log._

<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">with</span> <span class="hljs-title">LogSupport</span> </span>{
   <span class="hljs-type">Logger</span>.setDefaultFormatter(<span class="hljs-type">LogFormatter</span>.<span class="hljs-type">SourceCodeLogFormatter</span>)
   info(<span class="hljs-string">"log with source code"</span>)
}
</code></pre>
<p>This code will show:</p>
<pre><code class="hljs">[MyApp$] <span class="hljs-built_in">log</span> <span class="hljs-keyword">with</span> source code - (MyApp.scala:<span class="hljs-number">6</span>)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="pre-defined-log-formatters"></a><a href="#pre-defined-log-formatters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pre-defined log formatters:</h3>
<p>Here is the list of pre-defined log formatters.</p>
<ul>
<li><strong>SourceCodeLogFormatter</strong> (with source code location)</li>
<li><strong>ThreadLogFormatter</strong> (with source code location + current thread name)</li>
<li><strong>PlainSourceCodeLogFormatter</strong> (with source code location without ANSI coloring)</li>
<li><strong>AppLogFormatter</strong> (without source code location)</li>
<li><strong>TSVLogFormatter</strong> (logging in TSV format)</li>
<li><strong>IntelliJLogFormatter</strong> (for debugging using IntelliJ console)</li>
<li><strong>SimpleLogFormatter</strong> (just logger name and log message)</li>
<li><strong>BareFormatter</strong> (shows only log message)</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="customising-logformatter"></a><a href="#customising-logformatter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Customising LogFormatter</h3>
<p>You can also define your own LogFormatter:</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> wvlet.log.<span class="hljs-type">LogFormatter</span>._
<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">CustomLogFormatter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">LogFormatter</span> </span>{
  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">formatLog</span></span>(r: <span class="hljs-type">LogRecord</span>): <span class="hljs-type">String</span> = {
    <span class="hljs-keyword">val</span> log = <span class="hljs-string">s"[<span class="hljs-subst">${highlightLog(r.level, r.leafLoggerName)}</span>] <span class="hljs-subst">${highlightLog(r.level, r.getMessage)}</span>"</span>
    appendStackTrace(log, r)
  }
}

<span class="hljs-type">Logger</span>.setDefaultFormatter(<span class="hljs-type">CustomLogFormatter</span>)
</code></pre>
<p>See also the examples in <a href="https://github.com/wvlet/airframe/blob/main/airframe-log/shared/src/main/scala/wvlet/log/LogFormat.scala">LogFormat.scala</a>:</p>
<h3><a class="anchor" aria-hidden="true" id="using-airframe-log-in-scalajs"></a><a href="#using-airframe-log-in-scalajs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using airframe-log in Scala.js</h3>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> wvlet.log._

<span class="hljs-comment">// This configuration becomes unnecessary since 0.43</span>
<span class="hljs-comment">//Logger.setDefaultHandler(new JSConsoleLogHandler)</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">YourAppClass</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">LogSupport</span> </span>{

  info(<span class="hljs-string">"hello"</span>)
}
</code></pre>
<p>The log message will be showin in your browser's developer console.</p>
<p>To configure the log level, use <code>wvlet.log.setDefaultLogLevel</code> or <code>wvlet.log.setLogLevel</code>:</p>
<pre><code class="hljs css language-javascript">&gt; wvlet.log.setDefaultLogLevel(<span class="hljs-string">"debug"</span>)

&gt; wvlet.log.setLogLevel(<span class="hljs-string">"your.logger.name"</span>, <span class="hljs-string">"trace"</span>)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="using-with-slf4j"></a><a href="#using-with-slf4j" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using with slf4j</h3>
<p>If you are using slf4j, just add <code>slf4j-jdk14</code> to your dependency. The log messages from slf4j will be sent to airframe-log:</p>
<pre><code class="hljs css language-scala">libraryDependencies += <span class="hljs-string">"org.slf4j"</span> % <span class="hljs-string">"slf4j-jdk14"</span> % <span class="hljs-string">"1.7.21"</span>
</code></pre>
<ul>
<li>See also the article, <a href="http://blog.seratch.net/post/150202874933/how-to-start-using-wvlet-log-with-slf4j-projects">How to start using wvlet-log with slf4j projects</a>, written by <a href="https://github.com/seratch">@seratch</a> (author of skinny-framework, scalikejdbc, etc.)</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="using-with-log4j"></a><a href="#using-with-log4j" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using with log4j</h3>
<p>For example, the default logger of Hadoop and Spark is log4j. You can send logs from airframe-log to log4j by adding
log4j-jul binder:</p>
<pre><code class="hljs css language-scala">libraryDependencies += <span class="hljs-string">"org.apache.logging.log4j"</span> % <span class="hljs-string">"log4j-jul"</span> % <span class="hljs-string">"2.6.1"</span>,
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="writing-and-rotating-logs-with-files"></a><a href="#writing-and-rotating-logs-with-files" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Writing and rotating logs with files</h3>
<p>To write and rotate your logs, use <code>LogRotationHandler</code>:</p>
<pre><code class="hljs">logger.resetHandler(new LogRotationHandler(
    fileName = <span class="hljs-string">"your-app.log"</span>,
    maxNumberOfFiles = <span class="hljs-number">100</span>, <span class="hljs-comment">// rotate up to 100 log files</span>
    maxSizeInBytes = <span class="hljs-number">100</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> <span class="hljs-comment">// 100MB</span>
    AppLogFormatter <span class="hljs-comment">// Any log formatter you like</span>
))
</code></pre>
<p>If you simply need to output logs to a single file without any rotation, use <code>FileHandler</code>:</p>
<pre><code class="hljs css language-scala">logger.resetHandler(<span class="hljs-keyword">new</span> <span class="hljs-type">FileHandler</span>(
    fileName = <span class="hljs-string">"your-app.log"</span>, <span class="hljs-comment">// Log file name</span>
    formatter = <span class="hljs-type">AppLogFormatter</span> <span class="hljs-comment">// Any log formatter you like</span>
))
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="asynchronous-logging"></a><a href="#asynchronous-logging" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Asynchronous logging</h3>
<p>If you know your LogHandler is a heavy process (e.g., writing to network or slow disks), you can use
<code>AsyncHandler</code> to do the logging in a background thread:</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">val</span> asyncHandler = <span class="hljs-keyword">new</span> <span class="hljs-type">AsyncHandler</span>(a heavy parent log handler)
<span class="hljs-keyword">try</span> {
  logger.resetHandler(asyncHandler)
}
<span class="hljs-keyword">finally</span> {
  asyncHandler.close <span class="hljs-comment">// To flush unwritten log messages</span>
}
</code></pre>
<p>Note that however AsyncHandler has usually higher overhead than the default handler since the asynchronous process involves locking and signal calls.
We recommend to use AsyncHandler only if you know the overhead of the log writing is considerably high.
LogRotationHandler is already optimized for writing logs to files, so you usually don't need to use AsyncHandler with LogRotationHandler.</p>
<h3><a class="anchor" aria-hidden="true" id="clear-existing-logger-configurations"></a><a href="#clear-existing-logger-configurations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Clear Existing Logger Configurations</h3>
<p>To remove all previous configurations of the logger (e.g., configurations set by third-party libraries), use:</p>
<pre><code class="hljs css language-scala"><span class="hljs-type">Logger</span>.clearAllHandlers

<span class="hljs-comment">// Then set your logger configurations</span>
<span class="hljs-type">Logger</span>.setDefaultFormatter(<span class="hljs-type">LogFormatter</span>.<span class="hljs-type">SourceCodeLogFormatter</span>)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="changing-log-levels-using-jmx"></a><a href="#changing-log-levels-using-jmx" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Changing Log Levels using JMX</h3>
<p>To change the log levels outside the JVM process, you can use the JMX interface of <code>wvlet.log.Logger</code>.</p>
<p>For example, by using <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/management/jconsole.html">jconsole</a> you can access the JMX interface and change the log levels:
<img src="../img/airframe-log/jmx.png" alt="image"></p>
<h2><a class="anchor" aria-hidden="true" id="internals"></a><a href="#internals" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Internals</h2>
<h3><a class="anchor" aria-hidden="true" id="scala-macro-based-logging-code-generation"></a><a href="#scala-macro-based-logging-code-generation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scala macro based logging code generation</h3>
<p>airframe-log is efficient since it generate the log message objects only when necessary.
For example, this logging code:</p>
<pre><code class="hljs css language-scala">debug(<span class="hljs-string">s"heavy debug log generation <span class="hljs-subst">${obj.toString}</span>"</span>)
</code></pre>
<p>will be translated into the following efficient one with Scala macros:</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">if</span>(logger.isDebugEnabled) {
   debug(<span class="hljs-string">s"heavy debug log generation <span class="hljs-subst">${obj.toString}</span>"</span>)
}
</code></pre>
<p>Log message String generation will not happen unless the debug log is effective.
Scala macro is also used for finding source code location (LogSource).</p>
<h3><a class="anchor" aria-hidden="true" id="to-disable-logging-at-compile-time"></a><a href="#to-disable-logging-at-compile-time" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>To disable Logging at compile-time</h3>
<p>It is possible to disable the code generation of log statements at compile time.
Add <code>scalacOptions += &quot;-Xmacro-settings:wvlet.log.disable.[SUPPRESS_BELOW]&quot;</code> compiler option to <code>build.sbt</code>:</p>
<pre><code class="hljs">SUPPRESS_BELOW = {<span class="hljs-string">`ALL`</span> <span class="hljs-params">||</span><span class="hljs-string">`ERROR`</span> <span class="hljs-params">||</span> <span class="hljs-string">`WARN`</span> <span class="hljs-params">||</span> <span class="hljs-string">`INFO`</span> <span class="hljs-params">||</span> <span class="hljs-string">`DEBUG`</span>}:
</code></pre>
<p>e.g. <code>scalacOptions += &quot;-Xmacro-settings:wvlet.log.disable.INFO&quot;</code> will suppress DEBUG, TRACE and INFO level log code generation.</p>
<p>Note that <code>ALL</code> is just an alias for <code>ERROR</code> which will disable all logging.</p>
<h2><a class="anchor" aria-hidden="true" id="why-it-uses-javautillogging-instead-of-slf4j"></a><a href="#why-it-uses-javautillogging-instead-of-slf4j" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why it uses java.util.logging instead of slf4j?</h2>
<p><em>slf4j</em> is just an API for logging string messages, so there is no way to configure the log levels and log format <em>within your program</em>. To use slf4j, you always need to include an slf4j
binding library, such as <em>logback-classic</em>. slf4j's logging configuration is binder-specific (e.g., slf4j-simple, logback-classic, etc.),
and your application always need to include a dependency to one of the slf4j implementations. There is nothing wrong in it if these slf4j bindings are used properly, but
third-party libraries often include slf4j bindings as dependencies, and cause unexpected logging behaviour.</p>
<p><code>java.util.logging</code> is a standard API of Java and no binding library is required, but configuring <code>java.util.logging</code> was still difficult and error prone (See an example in <a href="http://stackoverflow.com/questions/960099/how-to-set-up-java-logging-using-a-properties-file-java-util-logging">Stack Overflow</a>)
<em>airframe-log</em> makes things easier for Scala developers.</p>
<h2><a class="anchor" aria-hidden="true" id="related-projects"></a><a href="#related-projects" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Related Projects</h2>
<ul>
<li><p><a href="https://github.com/typesafehub/scala-logging">scala-logging</a>:
An wrapper of <em>slf4j</em> for Scala. This also uses Scala macros to make logging efficient. No built-in source code location format, and you still need some slf4j bindings and its configuration.</p></li>
<li><p><a href="https://github.com/twitter/util#logging">twitter/util-logging</a>: This is also an wrapper of <code>java.util.logging</code> for Scala, but it doesn't use Scala macros, so you need to use an old sprintf style log generation, or <code>ifDebug(log)</code>
method to avoid expensive log message generation.</p></li>
<li><p><a href="https://github.com/outr/scribe">scribe</a>:
A pure-scala logger implementation, which has a similar set of functionality with airframe-log (e.g., macro based code generation, programmatically configurable).
As of June 2018, scribe doesn't support runtime log level configurations via JMX nor log.properties file.</p></li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/airframe/docs/airframe-control"><span class="arrow-prev">← </span><span>airframe-control: Retry/Rate Control</span></a><a class="docs-next button" href="/airframe/docs/airframe-metrics"><span>airframe-metrics: Human-Friendly Measures for Time and Data Size</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#features">Features</a><ul class="toc-headings"><li><a href="#using-logsupport-trait">Using LogSupport trait</a></li><li><a href="#using-the-default-configuration">Using the default configuration</a></li><li><a href="#configuring-log-levels">Configuring log levels</a></li><li><a href="#using-loglevelscanner-with-scalatest">Using LoglevelScanner with ScalaTest</a></li><li><a href="#customizing-log-format">Customizing log format</a></li><li><a href="#pre-defined-log-formatters">Pre-defined log formatters:</a></li><li><a href="#customising-logformatter">Customising LogFormatter</a></li><li><a href="#using-airframe-log-in-scalajs">Using airframe-log in Scala.js</a></li><li><a href="#using-with-slf4j">Using with slf4j</a></li><li><a href="#using-with-log4j">Using with log4j</a></li><li><a href="#writing-and-rotating-logs-with-files">Writing and rotating logs with files</a></li><li><a href="#asynchronous-logging">Asynchronous logging</a></li><li><a href="#clear-existing-logger-configurations">Clear Existing Logger Configurations</a></li><li><a href="#changing-log-levels-using-jmx">Changing Log Levels using JMX</a></li></ul></li><li><a href="#internals">Internals</a><ul class="toc-headings"><li><a href="#scala-macro-based-logging-code-generation">Scala macro based logging code generation</a></li><li><a href="#to-disable-logging-at-compile-time">To disable Logging at compile-time</a></li></ul></li><li><a href="#why-it-uses-javautillogging-instead-of-slf4j">Why it uses java.util.logging instead of slf4j?</a></li><li><a href="#related-projects">Related Projects</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/airframe/" class="nav-home"><img src="/airframe/img/favicon.ico" alt="Airframe" width="66" height="66"/></a><div><h5>Docs</h5><a href="/airframe/docs/en/index.html">Documentation</a></div><div><h5>Community</h5><a href="https://gitter.im/wvlet/airframe">Gitter Chat</a></div><div><h5>More</h5><a href="https://github.com/wvlet/airframe/">GitHub</a><a class="github-button" href="https://github.com/wvlet/airframe" data-icon="octicon-star" data-count-href="/wvlet/airframe/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://wvlet.org/airframe/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/airframe/img/logos/airframe-badge-dark.png" alt="airframe logo"/></a><section class="copyright">Copyright © 2025 wvlet.org</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.fbAsyncInit = function() {FB.init({appId:'3112325918843547',xfbml:true,version:'v2.7'});};(function(d, s, id){var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) {return;}js = d.createElement(s); js.id = id;js.src = '//connect.facebook.net/en_US/sdk.js';fjs.parentNode.insertBefore(js, fjs);}(document, 'script','facebook-jssdk'));
                </script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '71b7e81be03c97dcd37b7a0efc8d6b76',
                indexName: 'airframe',
                inputSelector: '#search_input_react'
              });
            </script></body></html>